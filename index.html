<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>北海道の旅</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;600&display=swap" as="style">

  <style>
	html {
	  margin: 0;
	  padding: 0;
	}
    body {
      margin: 0;
      background: #FAFAF7;
      font-family: 'Noto Sans TC', sans-serif;
      color: #444;
      padding-bottom: 120px;
    }
body.exchange-mode {
	margin: 0;
  background-color: #FAFAF7;    /* 你要改什麼都可以 */
  font-family: 'Noto Sans TC', sans-serif; 
	color: #444;/* 或是 100vh、120vh 都能用 */
  padding-bottom: 0px;      /* 你可以調整 */
}
    .topbar {
      background: #3A7AFE;
      color: #fff;
      padding: 25px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      margin-bottom: 24px;
	  position: fixed;
	  top: 0;
	  left: 0;
	  right: 0;
	  z-index: 1000;

    }

    .trip-title {
      font-size: 20px;
    }

    .trip-date {
      font-size: 10px;
      letter-spacing: 1px;
    }

    .top-buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .top-buttons button {
      background: #ffffff30;
      color: #ffffff;
      border: none;
      border-radius: 20px;
      padding: 5px 14px;
      font-size: 12px;
      letter-spacing: 1.5px;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .top-buttons button:hover {
      background: #f0f4ff;
      color: #3A7AFE;
    }

    .container {
      padding: 0 20px;
      max-width: 600px;
      margin: 0 auto;
	  margin-top: 145px;
      position: relative;
    }

    .day-tabs {
      display: flex;
      gap: 5px;
      border-bottom: 1px solid #e0e0e0;
      margin-bottom: 20px;
    }

    .day-tab {
      background: none;
      border: none;
      font-size: 11px;
      color: #999;
      padding: 5px 6px;
      cursor: pointer;
      position: relative;
      transition: color 0.2s ease;
    }

    .day-tab:hover {
      color: #3A7AFE;
    }

    .day-tab.active {
      color: #3A7AFE;
      font-weight: 600;
    }

    .day-tab.active::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: #3A7AFE;
      border-radius: 1px;
    }

    .day-section {
      display: none;
    }

    .day-label {
      font-size: 12px;
      color: #999;
      margin-bottom: 0.5rem;
      padding-left: 0.3rem;
      letter-spacing: 1.2px;
      pointer-events: none;
    }

    .activity-card {
      display: flex;
      align-items: center;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      padding: 6px;
      margin-bottom: 12px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .activity-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      background: #fdfdfc;
    }

    .activity-card img {
      width: 90px;
      height: 90px;
      border-radius: 7px;
      object-fit: cover;
      margin-right: 15px;
      background: #ddd;
    }

    .info {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .title {
      font-size: 16px;
      font-weight: 600;
      color: #222;
      margin-bottom: 5px;
    }

    .time {
      font-size: 14px;
      color: #a87f30;
      margin-bottom: 5px;
    }

    .note {
      font-size: 12px;
      color: #999;
      letter-spacing: 0.5px;
    }

    .transport-info {
      display: flex;
	  align-items: flex-end;
      gap: 6px;
      font-size: 12px;
      color: #999;
      margin: 15px 0 15px 40px;
      position: relative;
      letter-spacing: 1px;
    }

    .transport-info::before {
      content: "";
      position: absolute;
      left: -20px;
      top: -8px;
      bottom: -8px;
      width: 1px;
      background: repeating-linear-gradient(
        to bottom,
        #ccc,
        #ccc 2px,
        transparent 2px,
        transparent 4px
      );
    }

    a {
      text-decoration: none;
      display: block;
    }

    .scroll-end-message {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
      text-align: center;
      font-size: 13px;
      color: #3A7AFE;
      margin-top: 40px;
      padding-bottom: 20px;
    }

    .scroll-end-message.visible {
      opacity: 1;
      transform: translateY(0);
    }
	
	.day-tabs-wrapper {
  position: relative;
	}

.day-tabs-scroll {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.day-tabs-scroll::-webkit-scrollbar {
  display: none;
}

.day-tabs {
  display: flex;
  gap: 5px;
  padding-bottom: 6px;
  min-width: max-content;
}

.day-tab {
  white-space: nowrap;
  flex-shrink: 0;
  background: none;
  border: none;
  font-size: 12px;
  color: #999;
  padding: 5px 15px;
  cursor: pointer;
  position: relative;
  transition: color 0.2s ease;
}

.day-tab:hover {
  color: #3A7AFE;
}

.day-tab.active {
  color: #3A7AFE;
  font-weight: 600;
}

.day-tab.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1.5px;
  background: #3A7AFE;
  border-radius: 1px;
}

.day-tabs-arrow {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ccc;
  font-size: 16px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.day-tabs-arrow.left {
  left: 0;
}

.day-tabs-arrow.right {
  right: 0;
}
.day-tabs-scroll {
 overflow-x: auto;
  -webkit-overflow-scrolling: touch; /* iOS 慣性滾動 */
  scroll-behavior: auto; /* 對手指滑動無效，可省略 */
  touch-action: pan-x; /* 明確允許水平滑動 */
  
}
.day-tab.active::after {
  content: "";
  position: absolute;
  bottom: -7px; /* 對齊灰底線 */
  left: 0;
  width: 100%;
  height: 2px;
  background: #3A7AFE;
  border-radius: 1px;
}
.day-tab::after {
  transition: all 0.3s ease;
}
.day-tabs-scroll {
  scroll-snap-type: x mandatory;
}

.day-tab {
  scroll-snap-align: start;
}


.scroll-top-button:hover {
  background: #2a5edb;
  transform: translateX(-50%) scale(1.05);
}




.scroll-top-button {
  position: fixed;
  bottom: 30px;
  right: 20px;
  padding: 10px 14px;
  font-size: 14px;
  border: none;
  background: #444;
  color: white;
  border-radius: 50px;
  opacity: 0;
  pointer-events: none;
  transition: 0.3s ease;
}

.scroll-top-button.show {
  opacity: 1;
  pointer-events: auto;
}


.day-section {
  display: none;
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.day-section.fade-in {
  opacity: 1;
  transform: translateY(0);
}

.exchange-page {
  margin-top:80px;
  display: none;
  text-align: center;
  padding: 40px 20px;
  animation: fadeIn 0.4s ease;
}

.converter {
  margin-top: 30px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
}

.input-group {
  width:100%;
  display: flex;
  align-items: center;
  gap: 10px;
}

input[type="number"] {
  width: 180px;
  padding: 8px;
  font-size: 18px;
  text-align: right;
}

select {
  padding: 8px;
  font-size: 16px;
}

#swap-btn {
  font-size: 22px;
  border: none;
  background: #3a7afe;
  color: #fff;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

#swap-btn:hover {
  transform: rotate(180deg);
}

.back-btn {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: #3A7AFE;
  color: #fff;
  border: none;
  border-radius: 50px;
  padding: 8px 18px;
  font-size: 12px;
  cursor: pointer;
  box-shadow: 0 2px 2px rgba(0,0,0,0.2);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.back-btn.show {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}



@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

 .toggle-switch {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size:13px;
  cursor: pointer;
  margin: 10px 0;
}

.toggle-track {
  position: relative;
  width: 35px;
  height: 20px;
  background: #ccc;
  border-radius: 15px;
  transition: background 0.3s ease;
}

.toggle-thumb {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 19px;
  height: 19px;
  background: #3a7afe;
  border-radius: 50%;
  transition: left 0.3s ease;
}

.toggle-switch.active .toggle-thumb {
  left: 15px;
}

.toggle-switch.active .toggle-track {
  background: #a3c1ff;
}
.input-wrapper {
  width: calc(100%); /* ✅ 左右各留 1rem */
  margin: 0 auto;            /* ✅ 水平置中 */
  position: relative;
}

.input-wrapper input[type="number"] {
  width: 100%;
  padding: 1rem; /* ✅ 左右內距：右側留空給幣別提示 */
  font-size: 20px;
  text-align: left;
  border: 1px solid #ddd;
  color:#222;
  border-radius: 8px;
  box-sizing: border-box;
}


.currency-label {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 14px;
  color: #888;
  pointer-events: none;
}
.num-pad {
    max-width: 360px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    margin-top: 20px;
    gap: 10px;
    width: 97%;
    padding-right: 20px;
    padding-left: 5px;
}

.num-pad .key {
  padding: 14px 0;
  font-size: 20px;
  border: none;
  border-radius: 10px;
  background: #e6e6e6;
  color: #333;
  cursor: pointer;
  transition: 0.2s;
}

.num-pad .key.gray {
  
}

.num-pad .key.orange {
  background: #ff9f47;
  color: white;
  
}

.num-pad .key:active {
  transform: scale(0.95);
}
/* ============================
     匯率換算輸入框（修正版）
============================ */

.input-wrapper {
  position: relative;
  width: 100%;
  max-width: 400px;
  margin: 0 auto;
}

.input-wrapper input {
  width: 100%;
  padding: 14px 16px;
  padding-right: 70px; /* ⭐ 預留右邊空間給「｜幣別」 */
  font-size: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #fff;
  color: #222;
  box-sizing: border-box;

  /* ⭐ 讓 text 與 number 呈現效果一致 */
  -moz-appearance: textfield;
}

.input-wrapper input:focus {
  outline: none;
  border-color: #3A7AFE;
  box-shadow: 0 0 0 2px rgba(58,122,254,0.15);
}

/* 移除 number 的上下箭頭（避免某些瀏覽器強制出現） */
input[type="text"]::-webkit-inner-spin-button,
input[type="text"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* 幣別文字（右邊） */
.currency-label {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 14px;
  color: #888;
  pointer-events: none;
}
	  .exchange-page {
     position: fixed;
    top: 2.5rem;
    left: 0.1rem;
    margin-top: 80px;
    display: none;
    text-align: center;
    padding: 0px 20px;
    animation: fadeIn 0.4s 
ease;
}

.exchange-inner {
  padding-bottom: 0px;   /* ⭐ 所有匯率頁的 padding 放這邊 */
  max-width: 500px;
  margin: 0 auto;
}
#exchange-page {
  height: auto;
  overflow: hidden;   /* ⭐ 不讓匯率頁滾動 */
  padding-bottom: 0 !important;  /* ⭐ 確保底部沒有空白 */
}
/* 整頁 */
.packing-page {
  padding: 20px;
  margin-top: 120px;
}

/* 標題 */
.packing-title {
  font-size: 26px;
  font-weight: 600;
  margin-bottom: 20px;
}

/* 區塊 */
.packing-section-title {
  font-size: 18px;
  font-weight: 600;
  margin: 20px 0 10px;
}

/* 卡片排列 */
.packing-card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 14px;
}

/* 單一卡片 */
.packing-card-item {
  background: #fff;
  border-radius: 18px;
  padding: 20px 12px;
  text-align: center;
  box-shadow: 0 4px 16px rgba(0,0,0,0.08);
  font-size: 15px;
  position: relative;
  transition: transform .2s ease, opacity .2s ease;
}

.packing-card-item:active {
  transform: scale(0.95);
  opacity: 0.7;
}

.packing-card-item.done {
  background: #e8f8e4;
  text-decoration: line-through;
  color: #3a6b2e;
}

/* + 新增卡 */
.packing-add-card {
  background: #f3f4f6;
  border-radius: 18px;
  padding: 40px 0;
  text-align: center;
  font-size: 28px;
  color: #999;
  box-shadow: 0 4px 16px rgba(0,0,0,0.05);
  cursor: pointer;
}

/* 編輯刪除按鈕 */
.packing-actions {
  position: absolute;
  top: 6px;
  right: 8px;
  display: flex;
  gap: 6px;
}

.packing-actions button {
  border: none;
  background: #ddd;
  font-size: 12px;
  padding: 3px 6px;
  border-radius: 6px;
}

.packing-actions .delete-btn {
  background: #ff5757;
  color: white;
}

/* popup */
.packing-add-modal.hidden {
  display: none;
}

.packing-add-modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.25);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.packing-modal-card {
  background: white;
  padding: 20px;
  border-radius: 18px;
  box-shadow: 0 6px 25px rgba(0,0,0,0.15);
  width: 260px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.packing-modal-card input {
  padding: 12px;
  font-size: 16px;
  border-radius: 14px;
  border: 1px solid #ddd;
}

.packing-modal-card button {
  padding: 12px;
  font-size: 16px;
  border-radius: 14px;
  border: none;
  background: #007aff;
  color: white;
}

.packing-modal-card .cancel {
  background: #bbb;
}

/* ========== TOP 按鈕最終統一版本 ========== */

.scroll-top-button {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 18px;
  font-size: 12px;
  border: none;
  background: #3A7AFE;
  color: white;
  border-radius: 50px;
  opacity: 0;
  pointer-events: none;
  transition: 0.3s ease;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}
  
.scroll-top-button.show {
  opacity: 1;
  pointer-events: auto;
}

/* 兩顆按鈕統一造型 */
.scroll-top-button,
.back-btn {
  position: fixed;
  bottom: 20px;             /* ⭐ 兩顆按鈕同一高度 */
  left: 50%;
  width:70px;
  transform: translateX(-50%);
  background: #3A7AFE;
  color: #fff;
  border: none;
  border-radius: 50px;
  padding: 8px 18px;
  font-size: 12px;
  cursor: pointer;
  box-shadow: 0 2px 2px rgba(0,0,0,0.2);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

/* 顯示狀態 */
.scroll-top-button.show,
.back-btn.show {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* 整體外框 */
.packing-group {
  background: #fff;
  border-radius: 14px;
  padding: 15px 18px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.08);
  margin-top: 20px;
}

/* 標題列 */
.packing-group-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
 
}

.packing-group-actions {
  display: flex;
  gap: 10px;
}

.icon-btn {
  background: none;
  border: none;
  color: #d95380;
  font-size: 13px;
  cursor: pointer;
}

/* 列表 */
.packing-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.packing-item {
  display: flex;
  align-items: center;
  padding: 10px 4px;
  border-bottom: 1px solid #eee;
  font-size: 15px;
}

.packing-item:last-child {
  border-bottom: none;
}

/* checkbox */
.packing-checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #d95380;
  border-radius: 4px;
  margin-right: 10px;
  cursor: pointer;
  position: relative;
}

.packing-checkbox.checked {
  background: #d95380;
}

.packing-checkbox.checked::after {
  content: "✓";
  color: #fff;
  font-size: 14px;
  position: absolute;
  top: -1px;
  left: 4px;
}

/* 刪除按鈕 */
.delete-item {
  margin-left: auto;
  background: none;
  border: none;
  color: #bbb;
  font-size: 18px;
  cursor: pointer;
}

/* 新增按鈕 */
.add-item-btn {
  width: 100%;
  background: none;
  border: none;
  font-size: 15px;
  color: #d95380;
  padding: 12px 0 5px;
  cursor: pointer;
}

/* ==========================
   行李清單 Modal（置中）
========================== */
.packing-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display: none;               /* 初始隱藏 */
  justify-content: center;     /* 水平置中 */
  align-items: center;         /* 垂直置中 */
  z-index: 3000;
}

.packing-modal {
  background: #fff;
  width: 80%;
  max-width: 300px;
  padding: 25px 20px;
  border-radius: 14px;
  box-shadow: 0 6px 25px rgba(0,0,0,0.20);
  text-align: center;
  animation: modalPop .25s ease;
}

@keyframes modalPop {
  from { transform: scale(0.9); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}

.packing-modal h3 {
  margin: 0 0 12px;
  font-size: 18px;
  font-weight: 600;
}

.packing-modal input {
     width: 260px;
    padding: 15px;
    border-radius: 5px;
    border: 1px solid #ccc;
    margin-bottom: 15px;
    font-size: 15px;
}

.packing-modal-btns {
  display: flex;
  gap: 10px;
}

.packing-modal-btns button {
  flex: 1;
  padding: 10px 0;
  border-radius: 8px;
  border: none;
  font-size: 15px;
  cursor: pointer;
}

#packingCancel {
  background: #ccc;
}

#packingOK {
  background: #d95380;
  color: #fff;
}

/* 每個項目 */
.packing-item {
  position: relative;
  padding: 14px 14px;
  background: #fff;
  border-radius: 8px;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 12px;
}

/* 編輯按鈕（每一項目的右上角） */
.item-edit-btn {
  position: absolute;
  top: 6px;
  right: 8px;
  font-size: 13px;
  background: none;
  color: #3a7afe;
  border: none;
  cursor: pointer;
  padding: 2px 5px;
}

/* 刪除按鈕（只有進入編輯後才會出現） */
.delete-item {
  margin-left: auto;
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
  background: none;
  border: none;
  font-size: 18px;
  color: #e95959;
  cursor: pointer;
}

.packing-item.edit-mode .delete-item {
  opacity: 1;
  pointer-events: auto;
}

/* checkbox */
.packing-checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #d95380;
  border-radius: 4px;
  cursor: pointer;
  position: relative;
}

.packing-checkbox.checked {
  background: #d95380;
}

.packing-checkbox.checked::after {
  content: "✓";
  color: #fff;
  font-size: 14px;
  position: absolute;
  left: 4px;
  top: -1px;
}
/* 行李清單頁背景 */
body.packing-mode {
  background: #f1f1f1 !important;
}

/* 每個分類外框 */
.packing-group {
  background: #fff;
  border-radius: 8px;
  padding: 15px 18px;
  margin: 20px 0;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* 分類標題列 */
.packing-group-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  font-size: 16px;
  cursor: pointer;
}

/* 分類標題左側 */
.group-left {
  display: flex;
  gap: 6px;
  align-items: baseline;
}

/* 右上角刪除分類 */
.delete-group-btn {
 
  background: none;
  border: none;
  color: #d95380;
  font-size: 20px;
  font-weight: 600;
  cursor: pointer;
  margin-right: 8px;

}
.count-status {
     font-size: 14px;
    color: #bbb;
    font-weight: normal;
}
/* 展開箭頭 */
.arrow {
  color: #444;
    font-size: 20px;
  transition: transform 0.25s;
}
.packing-group.open .arrow {
  transform: rotate(180deg);
}

/* 小項目列表 */
.packing-list {
  margin-top: 10px;
  padding: 0;
  list-style: none;
  display: none;
}

/* 小項目排版 */
.packing-item {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #eee;
  padding: 10px 0;
}

.packing-item:last-child {
  border-bottom: none;
}

/* checkbox */
.packing-checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #d95380;
  border-radius: 4px;
  margin-right: 12px;
  cursor: pointer;
  position: relative;
}

.packing-checkbox.checked {
  background: #d95380;
}
.packing-checkbox.checked::after {
  content: "✓";
  position: absolute;
  color: #fff;
  font-size: 14px;
  left: 4px;
  top: -2px;
}

/* 小項目文字 */
.packing-item span {
  flex: 1;
  font-size: 15px;
}

/* 小項目刪除鍵（永遠顯示） */
.item-delete-btn {
  background: none;
  border: none;
  color: #c7c7c7;
  font-size: 22px;
  cursor: pointer;
}

/* 新增項目按鈕 */
.add-item-btn {
  width: 100%;
  background: none;
  border: none;
  color: #d95380;
  font-size: 15px;
  text-align: left;
  padding: 10px 0 0;
  cursor: pointer;
}

/* + 新增分類外框 */
.add-category {
  background: #fff;
  border-radius: 8px;
  border: 1px solid #d95380;
  padding: 15px 18px;
  color: #d95380;
  text-align: center;
  margin: 20px 0;
  cursor: pointer;
}

/* Modal */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 3000;
}

.modal-box {
  background: #fff;
  width: 80%;
  max-width: 330px;
  border-radius: 8px;
  padding: 28px 20px;
  text-align: center;
}

.modal-box input {
  width: 100%;
  padding: 14px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 15px;
  margin-bottom: 14px;
}

.modal-buttons {
  display: flex;
  gap: 10px;
}

.modal-buttons button {
  flex: 1;
  padding: 10px 0;
  border: none;
  border-radius: 6px;
  font-size: 15px;
}

#modalCancel { background: #ddd; }
#modalOK { background: #d95380; color: white; }
.add-category {
  background: #fff;
  border-radius: 8px;
  border: 1px solid #d95380;
  padding: 15px 18px;
  color: #d95380;
  text-align: center;
  margin: 20px 0;
  cursor: pointer;
}
/* 分類刪除鍵（默認隱藏） */
.delete-group-btn {
  background: none;
  border: none;
  color: #d95380;
  font-size: 20px;
  cursor: pointer;
  display: none;   /* ⭐ 預設隱藏 */
}

/* 編輯模式下才顯示 */
.packing-edit-mode .delete-group-btn {
  display: block;
}


</style>
</head>
<body>

	<div class="topbar">
		<div class="trip-title">北海道の旅</div>
		<div class="trip-date">旅を記錄する、思い出を綴る</div>
		<div class="top-buttons">
			<button onclick="showPacking()">行李清單</button>
			<button>電子憑證</button>
 			<button onclick="showExchange()">匯率換算</button>
		</div>
	</div>

	<div class="container">
		<div class="day-tabs-wrapper">
			<div class="day-tabs-arrow left" id="arrow-left"><span class="icon-arrow-left"></span></div>
			<div class="day-tabs-scroll" id="dayTabsScroll">
				<div class="day-tabs">
					<button class="day-tab active" onclick="showDay(1)">第 1 天</button>
					<button class="day-tab" onclick="showDay(2)">第 2 天</button>
					<button class="day-tab" onclick="showDay(3)">第 3 天</button>
					<button class="day-tab" onclick="showDay(4)">第 4 天</button>
					<button class="day-tab" onclick="showDay(5)">第 5 天</button>
					<button class="day-tab" onclick="showDay(6)">第 6 天</button>
					<button class="day-tab" onclick="showDay(7)">第 7 天</button>
            </div>
          </div>
          <div class="day-tabs-arrow right" id="arrow-right"><span class="icon-arrow-right"></span></div>
        </div>

    
    
	<!-- Day 1 -->
    <div class="day-section" id="day-1" style="display:block;">
		<div class="day-label">2026.02.09（一）</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=桃園機場&travelmode=driving" target="_blank">
      
        	<div class="activity-card">
            	<img src="images/1.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;00:10</div>
              		<div class="title">桃園機場T1</div>
              		<div class="note">22:10&nbsp;&nbsp;報到託運</div>
            	</div>
			</div>
		</a>
    	<div class="transport-info"><span class="icon-airplane"></span> 2  小時  30  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=羽田機場&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/2.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;04:00</div>
              <div class="title">羽田機場T3</div>
              <div class="note">06:15&nbsp;&nbsp;報到託運</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-airplane"></span> 1  小時  30  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=新千歲機場&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/3.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;09:45</div>
              <div class="title">新千歲機場</div>
              <div class="note">預留1小時入境</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-walk"></span> 10  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=一幻拉麵 新千歲機場店, 日本〒066-0012 Hokkaido, Chitose, Bibi, ターミナルビル Domestic Terminal New Chitose Airport, 3F&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/4.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;11:00</div>
              <div class="title">一幻拉麵</div>
              <div class="note">停留1小時用餐</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-walk"></span> 10  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=Kinotoya New Chitose Airport Factory, 2F Bibi, Chitose City, Hokkaido 066-0012&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/5.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;12:00</div>
              <div class="title">Kinotoya冰淇淋</div>
              <div class="note">步行至2F購買</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-bus"></span> 1  小時  20  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=札幌由緣溫泉旅館 日本〒060-0001 Hokkaido, Sapporo, Chuo Ward, Kita 1 Jonishi, 7 Chome−６&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/6.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;13:30</div>
              <div class="title">由緣溫泉旅館</div>
              <div class="note">Checkin&寄放行李</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-train"></span> 20  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=北海道大學&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/7.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;14:30</div>
              <div class="title">北海道大學</div>
              <div class="note">雪中校園散步及拍照</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-train"></span> 15  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=湯咖喱 奥芝商店 站前創成寺 日本〒060-0004 Hokkaido, Sapporo, Chuo Ward, Kita 4 Jonishi, 1 Chome ホクレンビル B1F パールタウン&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/8.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;17:00</div>
              <div class="title">奧芝咖哩</div>
              <div class="note">停留1小時用餐</div>
            </div>
    	</div>
	</a>
    <div class="transport-info"><span class="icon-travel-bus"></span> 15  分</div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=札幌由緣溫泉旅館 日本〒060-0001 Hokkaido, Sapporo, Chuo Ward, Kita 1 Jonishi, 7 Chome−６&travelmode=driving" target="_blank">
        <div class="activity-card">
            <img src="images/9.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;18:30</div>
              <div class="title">由緣溫泉旅館</div>
              <div class="note">回旅館泡溫泉休息</div>
            </div>
    	</div>
	</a>
</div> 
    <!-- Day 2 -->
    <div class="day-section" id="day-2" style="display:none;">
      <div class="day-label">2026.02.10（二）</div>
        	<div class="activity-card">
            	<img src="images/10.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:00</div>
              		<div class="title">由緣溫泉旅館早餐</div>
              		<div class="note">需提前加購早餐券￥3300</div>
            	</div>
			</div>
		<div class="transport-info"><span class="icon-travel-car"></span> 7  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Toyota Rent a Car Sapporo Station, 1 Chome-2-4 Kita 5 Johigashi, Chuo Ward, Sapporo, Hokkaido 060-0035日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/11.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;09:00</div>
              <div class="title">Toyota租車(札幌站前店)</div>
              <div class="note">攜帶租車相關文件及駕照</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 35  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=國營瀧野鈴蘭丘陵公園 日本〒005-0862 Hokkaido, Sapporo, Minami Ward, Takino, 247&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/12.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;10:00</div>
              <div class="title">瀧野鈴蘭丘陵公園</div>
              <div class="note">停留4小時遊玩</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 35  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=札幌電視塔 日本〒060-0042 Hokkaido, Sapporo, Chuo Ward, Odorinishi, 1 Chome&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/13.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;15:00</div>
              <div class="title">札幌電視塔</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>
		</a>
         <div class="transport-info"><span class="icon-travel-walk"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=札幌市時計台 日本〒060-0001 Hokkaido, Sapporo, Chuo Ward, Kita 1 Jonishi, 2 Chome&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/14.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;15:30</div>
              <div class="title">札幌計時台</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=大通公園 日本〒060-0042 Hokkaido, Sapporo, Chuo Ward, Odorinishi, １〜１２丁目&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/15.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;16:00</div>
              <div class="title">大通公園(札幌雪祭)</div>
              <div class="note">停留1小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Tanuki koji shinran tei, 三条美松ビル 2F 5 Chome-14 Minami 3 Jonishi, Chuo Ward, Sapporo, Hokkaido 060-0063日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/16.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;17:00</div>
              <div class="title">德壽燒肉(狸小路店)</div>
              <div class="note">札幌著名白老和牛燒肉</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 3  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=狸小路商店街 日本〒060-0062 Hokkaido, Sapporo, Chuo Ward, 南2・3条西1～7丁目&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/17.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;19:00</div>
              <div class="title">狸小路商店街</div>
              <div class="note">停留2小時逛街採購</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=札幌由緣溫泉旅館 日本〒060-0001 Hokkaido, Sapporo, Chuo Ward, Kita 1 Jonishi, 7 Chome−６&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/18.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;21:00</div>
              <div class="title">由緣溫泉旅館</div>
              <div class="note">回旅館休息</div>
            </div>
    	</div>
		</a>
	</div>
    <!-- Day 3 -->
    <div class="day-section" id="day-3" style="display:none;">
      <div class="day-label">2026.02.11（三）</div>
        	<div class="activity-card">
            	<img src="images/19.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;07:00</div>
              		<div class="title">由緣溫泉旅館</div>
              		<div class="note">提前準備超商早點在車上吃</div>
            	</div>
			</div>
		<div class="transport-info"><span class="icon-travel-car"></span> 3  小時</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=美瑛神社 日本〒071-0213 Hokkaido, Kamikawa District, Biei, Higashimachi, 4 Chome−1−1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/20.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;10:00</div>
              <div class="title">美瑛神社</div>
              <div class="note">停留1小時參拜拍照</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=純平洋食 junpei 日本〒071-0208 Hokkaido, Kamikawa District, Biei, Motomachi, 4 Chome−4−10&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/21.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;11:00</div>
              <div class="title">純平洋食</div>
              <div class="note">著名炸蝦丼飯必吃！！</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Biei 2 go, 日本〒071-0203 Hokkaido, Kamikawa District, Biei, Nishimachi, 1 Chome−2−10&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/22.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;12:30</div>
              <div class="title">Biei2GO輕食</div>
              <div class="note">網路激推豬排三明治跟焗烤麵！！</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Christmas tree, Bibaushi, Biei, Kamikawa District, Hokkaido, 日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/23.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;13:00</div>
              <div class="title">美瑛聖誕樹</div>
              <div class="note">停留1小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 30  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=白鬚瀑布 日本〒071-0235 Hokkaido, Kamikawa District, Biei, Shirogane&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/24.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;14:30</div>
              <div class="title">白鬚瀑布</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Aoi Pond, Shirogane, 美瑛町上川郡北海道 071-0235日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/25.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;15:30</div>
              <div class="title">白金青池</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 3  小時</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=成吉思汗 達摩 本店 日本〒064-0805 Hokkaido, Sapporo, Chuo Ward, Minami 5 Jonishi, 4 クリスタルビル 1F&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/26.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;19:30</div>
              <div class="title">成吉思汗達摩本店</div>
              <div class="note">札幌著名烤羊肉</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 15  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=札幌由緣溫泉旅館 日本〒060-0001 Hokkaido, Sapporo, Chuo Ward, Kita 1 Jonishi, 7 Chome−６&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/27.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;21:00</div>
              <div class="title">由緣溫泉旅館</div>
              <div class="note">回旅館休息</div>
            </div>
    	</div>
		</a>
	</div>

	<!-- Day 4 -->
    <div class="day-section" id="day-4" style="display:none;">
      <div class="day-label">2026.02.12（四）</div>
        	<div class="activity-card">
            	<img src="images/28.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:00</div>
              		<div class="title">由緣溫泉旅館</div>


              		<div class="note">Checkout</div>
            	</div>
			</div>
		<div class="transport-info"><span class="icon-travel-car"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=ベッセルホテルカンパーナすすきの 日本〒064-0805 Hokkaido, Sapporo, Chuo Ward, Minami 5 Jonishi, 6 Chome−16番地1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/29.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:30</div>
              <div class="title">Vessel Hotel</div>
              <div class="note">寄放行李</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 1  小時</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=日本北海道小樽市 Asari, 1 Chome−5, 朝里駅&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/30.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;10:00</div>
              <div class="title">小樽朝里站</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 15  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=小樽政壽司 日本〒047-0024 Hokkaido, Otaru, Hanazono, 1 Chome−1−1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/31.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;11:00</div>
              <div class="title">小樽政壽司</div>
              <div class="note">道地新鮮板前料理</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 13  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=小樽水族館 日本〒047-0047 Hokkaido, Otaru, Shukutsu, 3 Chome−303&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/32.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;13:00</div>
              <div class="title">小樽水族館</div>
              <div class="note">企鵝散步13:30/14:40場次</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 2  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Shukutsu Marine Land, 3 Chome Shukutsu, Otaru, Hokkaido 047-0047日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/33.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;15:00</div>
              <div class="title">祝津Marineland</div>
              <div class="note">體驗空中腳踏車(單次收費)+拍摩天輪</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 15  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Sakaimachi Street, 6-11 Sakaimachi, Otaru, Hokkaido 047-0027日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/34.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;16:00</div>
              <div class="title">小樽堺町通り商店街</div>
              <div class="note">停留1小時逛街</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 2  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=小樽音樂盒堂 本館 日本〒047-0015 Hokkaido, Otaru, Sumiyoshicho, 4−1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/35.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;17:00</div>
              <div class="title">音樂盒堂本館</div>
              <div class="note">停留半小時拍照打卡</div>
            </div>
    	</div>

		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 20  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=小樽運河, 日本北海道小樽市&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/36.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;18:00</div>
              <div class="title">小樽運河(雪燈之路)</div>
              <div class="note">每年2月中旬限定雪燈之路祭典</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-car"></span> 50  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=ベッセルホテルカンパーナすすきの 日本〒064-0805 Hokkaido, Sapporo, Chuo Ward, Minami 5 Jonishi, 6 Chome−16番地1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/37.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;20:00</div>
              <div class="title">Vessel Hotel</div>
              <div class="note">回旅館休息</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=薄野 肉海鮮炉端 芯々, 日本〒064-0806 Hokkaido, Sapporo, Chuo Ward, Minami 6 Jonishi, 4 Chome 高瀬ビル 1F&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/38.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;21:00</div>
              <div class="title">肉海鮮炉端芯々</div>
              <div class="note">出門覓食宵夜(網友推薦居酒屋)</div>
            </div>
    	</div>
		</a>
     </div>
     
    <!-- Day 5 -->
    <div class="day-section" id="day-5" style="display:none;">
      <div class="day-label">2026.02.13（五）</div>
        	<div class="activity-card">
            	<img src="images/39.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:30</div>
              		<div class="title">Vessel Hotel</div>
              		<div class="note">新的一天又開始了！</div>
            	</div>
			</div>
        <div class="transport-info"><span class="icon-travel-car"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Toyota Rent a Car Sapporo Station, 1 Chome-2-4 Kita 5 Johigashi, Chuo Ward, Sapporo, Hokkaido 060-0035日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/40.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;09:00</div>
              <div class="title">Toyota還車(札幌站前店)</div>
              <div class="note">需提前加好油</div>
            </div>
    	</div>
		</a>
		<div class="transport-info"><span class="icon-travel-bus"></span> 20  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=二條市場, 日本〒060-0052 Hokkaido, Sapporo, Chuo Ward, Minami 2 Johigashi, 1 Chome, 南３条東１丁目〜２丁目&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/41.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;10:00</div>
              <div class="title">二條市場</div>
              <div class="note">吃海鮮早點、拍照</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 30  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=北海道神宮 日本〒064-0959 Hokkaido, Sapporo, Chuo Ward, Miyagaoka, 474&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/42.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;12:00</div>
              <div class="title">北海道神宮</div>
              <div class="note">停留1小時拍照打卡</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 20  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Kitamaruyamakyoju, 26 Chome-5-12 Kita 6 Jonishi, Chuo Ward, Sapporo, Hokkaido 064-0826日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/43.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;14:00</div>
              <div class="title">円山教授2號店</div>
              <div class="note">網路超紅牡蠣碎肉咖哩</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 50  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=藻岩山纜車山麓駅入口 日本〒064-0942 Hokkaido, Sapporo, Chuo Ward, Fushimi, 5 Chome−3−7&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/44.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;16:00</div>
              <div class="title">藻岩山夜景</div>
              <div class="note">搭乘兩段式纜車欣賞夕陽與夜景</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-train"></span> 36  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=ベッセルホテルカンパーナすすきの 日本〒064-0805 Hokkaido, Sapporo, Chuo Ward, Minami 5 Jonishi, 6 Chome−16番地1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/45.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;18:00</div>
              <div class="title">Vessel Hotel</div>
              <div class="note">回旅館休息</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 5  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=VESSEL HOTEL CAMPANA SUSUKINO, 6 Chome-16番地1 Minami 5 Jōnishi, 中央區札幌市北海道日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/46.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;20:00</div>
              <div class="title">餃子の山岡家</div>
              <div class="note">出門覓食宵夜</div>
            </div>
    	</div>
		</a>
	</div>
    <!-- Day 6 -->
    <div class="day-section" id="day-6" style="display:none;">
      <div class="day-label">2026.02.14（六）</div>
        	<div class="activity-card">
            	<img src="images/47.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;07:30</div>
              		<div class="title">Vessel Hotel</div>
              		<div class="note">跟團的一天，可提前準備乾糧上路！</div>
            	</div>
			</div>
        <div class="transport-info"><span class="icon-travel-car"></span> 8  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Odori Nishi 1 chome, 1-chōme Ōdōrinishi, Chuo Ward, Sapporo, Hokkaido 060-0042日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/48.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:00</div>
              <div class="title">大通站</div>
              <div class="note">需提前10分鐘到集合地</div>
            </div>
    	</div>
		</a>
		<div class="transport-info"><span class="icon-travel-bus"></span> 2  小時</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Shikotsu Toya National Park Silo Observation Deck, 3-5 Naruka, Toyako, Abuta District, Hokkaido 049-5832日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/49.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;10:00</div>
              <div class="title">洞爺湖展望台</div>
              <div class="note">停留1小時20分鐘自由活動</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 30  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=Lake Hill Farm, 127 Hanawa, Toyako, Abuta District, Hokkaido 049-5724日本&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/50.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;12:00</div>
              <div class="title">萊克希爾農場</div>
              <div class="note">停留30分鐘自由活動</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 25  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=昭和新山熊牧場 日本〒052-0102 Hokkaido, Usu District, Sobetsu, Showashinzan, 183&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/51.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;13:30</div>
              <div class="title">昭和新山熊牧場</div>
              <div class="note">停留1小時自由活動(需自理門票￥1000)</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 50  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=登別地獄谷 日本〒059-0551 Hokkaido, Noboribetsu, Noboribetsuonsencho, 無番地&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/52.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;15:30</div>
              <div class="title">登別地獄谷</div>
              <div class="note">停留40分鐘自由活動</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 1  小時  35  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=定期観光バスのりば, 日本〒060-0807 Hokkaido, Sapporo, Kita Ward, Kita 7 Jonishi, 4 Chome−1−2&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/53.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;18:00</div>
              <div class="title">JR札幌站</div>
              <div class="note">北口巴士停車場解散</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-walk"></span> 10  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=拉麵 札幌一粒庵 日本〒060-0004 Hokkaido, Sapporo, Chuo Ward, Kita 4 Jonishi, 1 Chome−１番 ホクレンビル 地下１階&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/54.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;18:30</div>
              <div class="title">一粒庵</div>
              <div class="note">米其林指南推薦蒜味醬油拉麵</div>
            </div>
    	</div>
		</a>
        <div class="transport-info"><span class="icon-travel-bus"></span> 20  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=ベッセルホテルカンパーナすすきの 日本〒064-0805 Hokkaido, Sapporo, Chuo Ward, Minami 5 Jonishi, 6 Chome−16番地1&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/55.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;20:00</div>
              <div class="title">Vessel Hotel</div>
              <div class="note">回旅館休息</div>
            </div>
    	</div>
		</a>
	</div>
    <!-- Day 7 -->
    <div class="day-section" id="day-7" style="display:none;">
      <div class="day-label">2026.02.15（日）</div>
        	<div class="activity-card">
            	<img src="images/56.png">
            	<div class="info">
              		<div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;07:30</div>
              		<div class="title">Vessel Hotel</div>
              		<div class="note">北海道最後一餐(需加購￥2300)</div>
            	</div>
			</div>
        <div class="transport-info"><span class="icon-travel-bus"></span> 1  小時 20 分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=新千歲機場&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/3.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;08:00</div>
              <div class="title">新千歲機場</div>
              <div class="note">可提前三小時至機場最後採購</div>
            </div>
    	</div>
		</a>
		<div class="transport-info"><span class="icon-airplane"></span> 4  小時 55  分</div>
		<a href="https://www.google.com/maps/dir/?api=1&destination=臺灣桃園國際機場&travelmode=driving" target="_blank">
        <div class="activity-card">
			<img src="images/1.png">
            <div class="info">
              <div class="time"><span class="icon-watch"></span>&nbsp;&nbsp;16:05</div>
              <div class="title">桃園機場T2</div>
              <div class="note">歡迎歸國，快樂迎接過年！</div>
            </div>
    	</div>
		</a>
	</div>
</div>
	
<!-- ================================
       匯率換算頁面（整理後）
================================ -->
<div id="exchange-page" class="exchange-page">
	<div class="exchange-inner">
	  <div class="converter">
	
	    <!-- ⭐ 幣別切換開關 -->
	    <div class="toggle-switch" id="currencyToggle">
	      <div class="toggle-track">
	        <div class="toggle-thumb"></div>
	      </div>
	      <span class="toggle-label" id="toggle-label">JPY</span>
	    </div>
	
	    <!-- ⭐ 輸入金額（已修正） -->
	    <div class="input-group">
	      <div class="input-wrapper">
	        <input 
	          type="text" 
	          id="input-amount" 
	          placeholder="輸入金額"
	          inputmode="numeric"
	          autocomplete="off"
	        >
	        <span class="currency-label" id="input-label">｜ 日圓</span>
	      </div>
	    </div>
	
	    <!-- ⭐ 換算結果（已修正） -->
	    <div class="input-group">
	      <div class="input-wrapper">
	        <input 
	          type="text" 
	          id="output-amount" 
	          placeholder="換算結果" 
	          readonly
	        >
	        <span class="currency-label" id="output-label">｜ 台幣</span>
	      </div>
	    </div>
	
	  </div>
	
	  <!-- ⭐ 數字鍵盤 -->
	  <div class="num-pad">
	    <button class="key">1</button>
	    <button class="key">2</button>
	    <button class="key">3</button>
	
	    <button class="key">4</button>
	    <button class="key">5</button>
	    <button class="key">6</button>
	
	    <button class="key">7</button>
	    <button class="key">8</button>
	    <button class="key">9</button>
	
	    <button class="key gray">0</button>
	    <button class="key orange">C</button>
	    <button class="key orange">←</button>
	  </div>
	</div>
</div>
<!-- ================================
      行李清單頁面
================================ -->
<div id="packing-page" class="packing-page" style="display:none;"></div>
<div id="packing-edit-bar" style="
  display:flex;
  justify-content:flex-end;
  margin-bottom:10px;
">
  <button id="packing-edit-btn" style="
    background:none;
    border:none;
    color:#3A7AFE;
    font-size:15px;
    cursor:pointer;
  ">編輯</button>
</div>
<!-- === 新增項目用的 Modal === -->
<div id="itemModal" class="modal-overlay">
  <div class="modal-box">
    <h3 id="modalTitle">新增項目</h3>
    <input id="modalInput" type="text" placeholder="輸入名稱…" />
    <div class="modal-buttons">
      <button id="modalCancel">取消</button>
      <button id="modalOK">確定</button>
    </div>
  </div>
</div>





<button id="scrollToTop" class="scroll-top-button" title="回到頂部">TOP</button>	
<button class="back-btn" id="backBtn" onclick="backToMain()" >HOME</button>


	

<script>
// ===========================
// 頁面初始化
// ===========================
document.addEventListener("DOMContentLoaded", () => {
  getExchangeRate();
  showDay(1);
  updateArrows();
});

// ===========================
// 1. 行程切換
// ===========================
function showDay(dayNumber) {
  const sections = document.querySelectorAll(".day-section");
  const tabs = document.querySelectorAll(".day-tab");

  sections.forEach((section, index) => {
    if (index === dayNumber - 1) {
      section.style.display = "block";
      requestAnimationFrame(() => section.classList.add("fade-in"));
    } else {
      section.style.display = "none";
      section.classList.remove("fade-in");
    }
  });

  tabs.forEach((tab, index) => {
    tab.classList.toggle("active", index === dayNumber - 1);
  });

  window.scrollTo({ top: 0, behavior: "smooth" });
}

// ===========================
// 2. Day Tabs 左右箭頭
// ===========================
const scrollEl  = document.getElementById("dayTabsScroll");
const arrowLeft = document.getElementById("arrow-left");
const arrowRight = document.getElementById("arrow-right");

function updateArrows() {
  if (!scrollEl) return;
  const max = scrollEl.scrollWidth - scrollEl.clientWidth;

  arrowLeft.style.opacity  = scrollEl.scrollLeft > 10 ? "1" : "0";
  arrowRight.style.opacity = scrollEl.scrollLeft < max - 10 ? "1" : "0";
}

if (scrollEl) {
  scrollEl.addEventListener("scroll", updateArrows);
  window.addEventListener("resize", updateArrows);
}

// ===========================
// 3. TOP 按鈕
// ===========================
const scrollBtn = document.getElementById("scrollToTop");
const homeBtn = document.getElementById("backBtn");
let isMainPage = true;

window.addEventListener("scroll", () => {
  if (!isMainPage) return;
  if (window.scrollY > 300) scrollBtn.classList.add("show");
  else scrollBtn.classList.remove("show");
});

scrollBtn.addEventListener("click", () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
});

// ===========================
// 4. 匯率換算
// ===========================
let currentRate = 0;
let isJPYtoTWD = true;

const inputField  = document.getElementById("input-amount");
const outputField = document.getElementById("output-amount");
const toggleBtn   = document.getElementById("currencyToggle");
const toggleLabel = document.getElementById("toggle-label");
const inputLabel  = document.getElementById("input-label");
const outputLabel = document.getElementById("output-label");

async function getExchangeRate() {
  try {
    const res  = await fetch("https://open.er-api.com/v6/latest/JPY");
    const data = await res.json();
    currentRate = data.rates.TWD;
    updateConversion();
  } catch (err) {
    console.error("匯率抓取失敗:", err);
  }
}

function addComma(s) { return s.replace(/\B(?=(\d{3})+(?!\d))/g, ","); }
function removeComma(s) { return s.replace(/,/g, ""); }

function updateConversion() {
  if (!currentRate) return;
  let raw = removeComma(inputField.value);
  if (!raw || isNaN(raw)) {
    outputField.value = "";
    return;
  }
  let val = parseInt(raw, 10);
  let result = isJPYtoTWD ? val * currentRate : val / currentRate;
  outputField.value = addComma(Math.round(result).toString());
}

toggleBtn.addEventListener("click", () => {
  isJPYtoTWD = !isJPYtoTWD;
  toggleBtn.classList.toggle("active", !isJPYtoTWD);
  toggleLabel.textContent = isJPYtoTWD ? "JPY" : "TWD";
  inputLabel.textContent  = isJPYtoTWD ? "｜ 日圓" : "｜ 台幣";
  outputLabel.textContent = isJPYtoTWD ? "｜ 台幣" : "｜ 日圓";
  updateConversion();
});

inputField.addEventListener("input", () => {
  let raw = removeComma(inputField.value);
  if (!raw || isNaN(raw)) {
    inputField.value = "";
    outputField.value = "";
    return;
  }
  inputField.value = addComma(raw);
  updateConversion();
});

// 數字鍵盤
document.querySelectorAll(".num-pad .key").forEach(btn => {
  btn.addEventListener("click", () => {
    let raw = removeComma(inputField.value);
    const key = btn.textContent;

    if (key === "C") {
      inputField.value = "";
      outputField.value = "";
      return;
    }

    if (key === "←") {
      raw = raw.slice(0, -1);
      inputField.value = raw ? addComma(raw) : "";
      updateConversion();
      return;
    }

    raw += key;
    raw = raw.replace(/^0+/, "");
    if (!raw) raw = "0";

    inputField.value = addComma(raw);
    updateConversion();
  });
});

// ===========================
// 5. 三頁切換
// ===========================
function showExchange() {
  isMainPage = false;
  document.querySelector(".container").style.display = "none";
  document.getElementById("exchange-page").style.display = "block";
  document.getElementById("packing-page").style.display = "none";

  scrollBtn.classList.remove("show");
  homeBtn.classList.add("show");
}

function showPacking() {
  isMainPage = false;
  document.querySelector(".container").style.display = "none";
  document.getElementById("exchange-page").style.display = "none";
  document.getElementById("packing-page").style.display = "block";

  scrollBtn.classList.remove("show");
  homeBtn.classList.add("show");
}

function backToMain() {
  isMainPage = true;
  document.querySelector(".container").style.display = "block";
  document.getElementById("exchange-page").style.display = "none";
  document.getElementById("packing-page").style.display = "none";

  homeBtn.classList.remove("show");

  if (window.scrollY > 300) scrollBtn.classList.add("show");
  else scrollBtn.classList.remove("show");
}

// ===========================
// 6. 原始「checkbox 版」行李清單
// ===========================
/* ============================================================
   行李清單資料（讀取 localStorage）
============================================================ */
/* ============================================================
   行李清單資料（localStorage）
============================================================ */
let packingData = JSON.parse(localStorage.getItem("packingData")) || {
  groups: {
    documents: {
      name: "重要證件",
      items: [
        { text: "護照", done: false },
        { text: "信用卡", done: false },
        { text: "外幣", done: false },
        { text: "國際駕照", done: false }
      ]
    },
    clothes: {
      name: "衣物類",
      items: [
        { text: "上衣", done: false },
        { text: "褲子", done: false }
      ]
    },
    personal: { name: "個人用品", items: [] },
    electronics: { name: "3C 設備", items: [] }
  }
};

function savePacking() {
  localStorage.setItem("packingData", JSON.stringify(packingData));
}

/* ============================================================
   建立大分類 DOM
============================================================ */
function createGroupDOM(key, group) {
  return `
  <div class="packing-group" data-group="${key}">
    <div class="packing-group-header">
      <div class="group-left">
        <span>${group.name}</span>
        <span class="count-status">
          ${group.items.filter(i => i.done).length}/${group.items.length}
        </span>
      </div>

      <div style="display:flex; align-items:center;">
        <button class="delete-group-btn" data-delgroup="${key}">×</button>
        <span class="arrow">▾</span>
      </div>
    </div>

    <ul class="packing-list"></ul>

    <button class="add-item-btn" data-additem="${key}">＋ 新增項目</button>
  </div>`;
}

/* ============================================================
   渲染整個頁面
============================================================ */
function renderPackingPage() {
  const container = document.getElementById("packing-page");
  container.innerHTML = "";

  // 生成所有分類
  Object.keys(packingData.groups).forEach(key => {
    container.innerHTML += createGroupDOM(key, packingData.groups[key]);
  });

  // ⭐ 最底部插入新增分類
  container.innerHTML += `
    <div id="add-category" class="add-category">＋ 新增分類</div>
  `;

  // 生成小項目
 document.querySelectorAll(".packing-group").forEach(groupEl => {
  const key = groupEl.dataset.group;
  const ul = groupEl.querySelector(".packing-list");

  packingData.groups[key].items.forEach((item, index) => {
    const li = document.createElement("li");
    li.className = "packing-item";

    li.innerHTML = `
      <div class="packing-checkbox ${item.done ? "checked" : ""}"></div>
      <span>${item.text}</span>
      <button class="item-delete-btn">×</button>
    `;

    li.querySelector(".packing-checkbox").onclick = () => {
      item.done = !item.done;
      savePacking();
      renderPackingPage();
    };

    li.querySelector(".item-delete-btn").onclick = () => {
      packingData.groups[key].items.splice(index, 1);
      savePacking();
      renderPackingPage();
    };

    ul.appendChild(li);
  });

  // ⭐ 預設全部收起來
  ul.style.display = "none";
  groupEl.querySelector(".add-item-btn").style.display = "none";
});

  // ⭐ 綁定事件（包含新增分類的監聽）
  attachEvents();
}

/* ============================================================
   綁定新增/刪除/展開事件
============================================================ */
function attachEvents() {

  /* 展開/收合分類 */
  document.querySelectorAll(".packing-group-header").forEach(header => {
    header.onclick = (e) => {
      if (e.target.classList.contains("delete-group-btn")) return;

      const group = header.parentElement;
      const list = group.querySelector(".packing-list");
      const addBtn = group.querySelector(".add-item-btn");

      group.classList.toggle("open");

      if (group.classList.contains("open")) {
        list.style.display = "block";
        addBtn.style.display = "block";
      } else {
        list.style.display = "none";
        addBtn.style.display = "none";
      }
    };
  });

  /* 刪除整個分類 */
  document.querySelectorAll(".delete-group-btn").forEach(btn => {
    btn.onclick = () => {
      const key = btn.dataset.delgroup;
      if (confirm("確定刪除整個分類？")) {
        delete packingData.groups[key];
        savePacking();
        renderPackingPage();
      }
    };
  });

  /* 新增項目（Modal） */
  document.querySelectorAll(".add-item-btn").forEach(btn => {
    btn.onclick = () => {
      currentGroupKey = btn.dataset.additem;
      openModal("新增項目");
    };
  });

  /* 新增分類 */
  document.getElementById("add-category")?.addEventListener("click", () => {
    currentGroupKey = null;
    openModal("新增分類");
  });
}

/* ============================================================
   Modal 控制
============================================================ */
let currentGroupKey = null;

const modal = document.getElementById("itemModal");
const modalInput = document.getElementById("modalInput");
const modalOK = document.getElementById("modalOK");
const modalCancel = document.getElementById("modalCancel");

function openModal(title) {
  document.getElementById("modalTitle").textContent = title;
  modal.style.display = "flex";
  modalInput.value = "";
  setTimeout(() => modalInput.focus(), 50);
}

function closeModal() {
  modal.style.display = "none";
}

modalCancel.onclick = closeModal;

modalOK.onclick = () => {
  const text = modalInput.value.trim();
  if (!text) return closeModal();

  // 新增項目
  if (currentGroupKey) {
    packingData.groups[currentGroupKey].items.push({ text, done: false });
  }
  // 新增分類
  else {
    const id = "cat" + Date.now();
    packingData.groups[id] = { name: text, items: [] };
  }

  savePacking();
  renderPackingPage();
  closeModal();
};
// ===== 編輯模式控制 =====
let isPackingEditing = false;

document.getElementById("packing-edit-btn").addEventListener("click", () => {
  isPackingEditing = !isPackingEditing;

  const page = document.getElementById("packing-page");

  if (isPackingEditing) {
    page.classList.add("packing-edit-mode");
    document.getElementById("packing-edit-btn").textContent = "完成";
  } else {
    page.classList.remove("packing-edit-mode");
    document.getElementById("packing-edit-btn").textContent = "編輯";
  }
});

/* ============================================================
   初始化
============================================================ */
renderPackingPage();

</script>
</body>
</html>
















